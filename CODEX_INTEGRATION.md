# Интеграция Codex CLI с репозиторием

## ✅ Статус

- **Репозиторий создан**: https://github.com/dimaystinov/bot_hnushka
- **Codex CLI установлен**: версия 0.77.0
- **Codex CLI авторизован**: через ChatGPT
- **Git репозиторий**: настроен и синхронизирован с GitHub

## Использование Codex CLI в проекте

### Базовое использование

Codex CLI автоматически работает с git репозиторием в текущей директории:

```bash
cd /root/bot_hnushka

# Интерактивный режим (требует терминал)
codex "ваш запрос"

# Неинтерактивное выполнение
codex exec "ваш запрос"

# С пропуском проверки git (если есть проблемы с sandbox)
codex exec --skip-git-repo-check "ваш запрос"
```

### Примеры использования

#### Анализ проекта
```bash
codex "Объясни структуру этого проекта"
codex "Какие основные компоненты есть в боте?"
```

#### Рефакторинг
```bash
codex "Улучши обработку ошибок в handlers"
codex "Добавь логирование во все критические места"
```

#### Добавление функциональности
```bash
codex "Добавь обработку новых типов медиа"
codex "Реализуй систему уведомлений для пользователей"
```

#### Исправление ошибок
```bash
codex "Исправь все ошибки в коде"
codex "Найди и исправь проблемы с производительностью"
```

#### Code Review
```bash
codex review
```

### Режимы работы

#### Suggest (по умолчанию)
Предлагает изменения, требует одобрения:
```bash
codex "ваш запрос"
```

#### Auto Edit
Автоматически редактирует файлы, но запрашивает подтверждение для команд:
```bash
codex --auto-edit "ваш запрос"
```

#### Full Auto
Полностью автоматический режим (осторожно!):
```bash
codex --full-auto "ваш запрос"
```

### Применение изменений

После того как Codex предложит изменения:

```bash
# Применить последние изменения как git patch
codex apply

# Или вручную через git
git add .
git commit -m "Изменения от Codex"
git push
```

### Продолжение сессии

```bash
# Продолжить последнюю сессию
codex resume --last

# Выбрать сессию из списка
codex resume
```

## Интеграция с GitHub

Репозиторий уже подключен к GitHub:
- Remote: `origin` → `https://github.com/dimaystinov/bot_hnushka.git`
- Ветка: `main`
- Авторизация: через GitHub CLI (`gh`)

### Работа с GitHub через Codex

Codex может помочь с:
- Созданием pull requests
- Анализом issues
- Обновлением документации
- Рефакторингом кода

Пример:
```bash
codex "Создай pull request для новой функциональности"
codex "Обнови README с новой информацией"
```

## MCP (Model Context Protocol) - экспериментальная функция

Codex CLI поддерживает MCP для интеграции с другими инструментами:

```bash
# Запустить Codex как MCP сервер
codex mcp-server

# Управление MCP серверами
codex mcp
```

## Полезные команды

```bash
# Проверить статус авторизации
codex login status

# Выход
codex logout

# Помощь
codex --help

# Версия
codex --version

# Sandbox для тестирования
codex sandbox "команда"
```

## Ограничения

1. **Sandbox**: На сервере могут быть ограничения sandbox (Landlock)
2. **Git репозиторий**: Codex предпочитает работать с git репозиториями
3. **Интерактивный режим**: Требует терминал для полной функциональности

## Рекомендации

1. **Используйте git репозиторий**: Codex работает лучше с git
2. **Регулярно коммитьте**: Codex может анализировать историю изменений
3. **Используйте описательные запросы**: Чем подробнее запрос, тем лучше результат
4. **Проверяйте изменения**: Всегда проверяйте предложенные изменения перед применением

## Связь с GitHub

Репозиторий доступен по адресу:
- **GitHub**: https://github.com/dimaystinov/bot_hnushka
- **Клонирование**: `git clone https://github.com/dimaystinov/bot_hnushka.git`
- **SSH**: `git clone git@github.com:dimaystinov/bot_hnushka.git`

## Дополнительные ресурсы

- [Codex CLI документация](https://github.com/openai/codex)
- [GitHub репозиторий проекта](https://github.com/dimaystinov/bot_hnushka)
- [GitHub CLI документация](https://cli.github.com/)

